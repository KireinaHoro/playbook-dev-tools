--- dns.c.orig	2017-01-08 20:39:27.313333340 +0900
+++ dns.c	2017-01-08 21:50:46.533333339 +0900
@@ -28,7 +28,7 @@
 #include <sys/time.h>
 #include <sys/select.h>
 #include <sys/stat.h>
-#include <sys/errno.h>
+#include <errno.h>
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
@@ -320,6 +320,7 @@
 
 int use_dns = 1;
 
+#undef res_ninit
 #ifdef res_ninit
 #define MY_RES_INIT() res_ninit(&myres);
 #define RES_MKQUERY(a, b, c, d, e, f, g, h, i) \
